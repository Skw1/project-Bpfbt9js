{"version":3,"file":"footer-modal-c45740fe.js","sources":["../../src/js/fetchApi.js","../../src/js/refs.js","../../src/js/modalClose.js","../../src/img/icons.svg#close-icon","../../src/img/icons.svg#shopping-cart-icon","../../src/js/modalProduct.js","../../src/img/icons.svg#discount-icon","../../src/img/icons.svg#discount-cart","../../src/img/icons.svg#discount-checked","../../src/js/discount.js","../../src/js/localStorageApi.js","../../src/js/modal/ModalFilter.js","../../src/js/footer-modal.js"],"sourcesContent":["/*\nfetchAPI for work with https://food-boutique.b.goit.study/\n\nusing example:\n\nimport fetchAPI from './js/fetchApi.js';\n\nasync function test() {\n  const product = await fetchAPI.product('640c2dd963a319ea671e3735');\n  console.log('product: ', product);\n}\n\nmethods:\n\nfetchAPI.categories() - returns array of categories\n\nfetchAPI.popular() - returns array of popular products\n\nfetchAPI.discount() - returns array of discount products\n\nfetchAPI.product(id) - returns product\nid - 'hdfgshfsjh35454hncnc'\n\nfetchAPI.products(filter) - returns object\n{\n  \"page\": 1,\n  \"perPage\": 3,\n  \"totalPages\": 4,\n  \"results\": [{product1},...]\n}\noptional parametr filter:\n    filter {\n        keyword : \"string\",\n        category : \"string\",\n        byABC : \"boolean\",\n        page : \"number\",\n        limit : \"number\",}\n\n\nfetchAPI.subscribe(email) - returns welcome message (string)\nemail -  'test@test.com'\n\nfetchAPI.order(cart) - returns confirmation message (string)\ncart \n    {\n  \"email\": \"test@gmail.com\",\n  \"products\": [{\"productId\": \"640c2dd963a319ea671e383b\",\n      \"amount\": 2},...]\n    }\n*/\n\nimport axios from 'axios';\n\nexport default {\n  _baseURL: 'https://food-boutique.b.goit.study/api',\n  _categoriesURL: '/products/categories',\n  _productsURL: '/products',\n  _popularURL: '/products/popular',\n  _discountURL: '/products/discount',\n  _subscriptionURL: '/subscription',\n  _orderURL: '/orders',\n\n  categories: async function categories() {\n    try {\n      const result = await axios.get(this._baseURL + this._categoriesURL);\n      return result.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n\n  popular: async function popular() {\n    try {\n      const result = await axios.get(this._baseURL + this._popularURL);\n      return result.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n\n  discount: async function discount() {\n    try {\n      const result = await axios.get(this._baseURL + this._discountURL);\n      return result.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n\n  product: async function product(id) {\n    try {\n      const result = await axios.get(\n        this._baseURL + this._productsURL + `/${id}`\n      );\n      return result.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n\n  products: async function products(filter = {}) {\n    try {\n      const params = {\n        params: filter,\n      };\n      const result = await axios.get(this._baseURL + this._productsURL, params);\n      return result.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n\n  subscribe: async function subscribe(email) {\n    try {\n      const params = {\n        email: email,\n      };\n      const result = await axios.post(\n        this._baseURL + this._subscriptionURL,\n        params\n      );\n      return result;\n    } catch (error) {\n      throw error;\n    }\n  },\n\n  order: async function order(cart) {\n    try {\n      const result = await axios.post(this._baseURL + this._orderURL, cart);\n      return result.data;\n    } catch (error) {\n      throw error;\n    }\n  },\n};\n","/*\nsimple refs API\n\nusage:\n\nadd to your html tags class 'js-object' and data-attribute 'data-jsname=\"yourName\"'\n\nimport refsAPI from './refs.js';\nconst frontEnd = new refsAPI();\n\nobject frontEnd will will containe all your nodes as properties.\n\nExample:\n\n<div class=\"js-object\" data-jsname=\"A\">                //nodeA\n      <div class=\"js-object\" data-jsname=\"B\"></div>    //nodeB\n</div>                                                 \n<div class=\"js-object\" data-jsname=\"C\"></div>          //nodeC\n<div class=\"js-object\" data-jsname=\"D\"></div>          //nodeD\n\nresults to\n\nfrontEnd==={\n    A : nodeA\n    B : nodeB\n    C : nodeC\n    D : nodeD\n}\n\n\nfrontEnd.refresh() - updates all nodes. use after adding new nodes to the document\n\n\n*/\n\nexport default class {\n  constructor() {\n    //add nodes as attributes\n    const nodes = document.querySelectorAll('.js-object');\n    for (let i = 0; i < nodes.length; i++) {\n      if ('dataset' in nodes[i]) {\n        if ('jsname' in nodes[i].dataset) {\n          this[nodes[i].dataset.jsname] = nodes[i];\n        }\n      }\n    }\n  }\n\n  refresh() {\n    //delete all attributes\n    for (var key in this) {\n      if (key in this) {\n        delete this[key];\n      }\n    }\n    //add nodes as attributes\n    const nodes = document.querySelectorAll('.js-object');\n    for (let i = 0; i < nodes.length; i++) {\n      if ('dataset' in nodes[i]) {\n        if ('jsname' in nodes[i].dataset) {\n          this[nodes[i].dataset.jsname] = nodes[i];\n        }\n      }\n    }\n  }\n}\n","// функція приймає markup - розмітка у вигляді рядка\n// та querySelector - селектор для кнопки закриття модального вікна\n\nimport * as basicLightbox from 'basiclightbox';\nimport 'basiclightbox/dist/basicLightbox.min.css';\n\nfunction onBasicLightbox(markup, querySelector) {\n  const instance = basicLightbox.create(markup, {\n    onShow: instance => {\n      document.addEventListener('keydown', onModal);\n      instance.element().querySelector(querySelector).onclick = instance.close;\n    },\n\n    onClose: () => {\n      document.removeEventListener('keydown', onModal);\n    },\n  });\n\n  function onModal(evt) {\n    if (evt.key === 'Escape') {\n      instance.close();\n    }\n  }\n\n  instance.show();\n}\nexport { onBasicLightbox };\n","export default \"__VITE_ASSET__f5da497b__$_#close-icon__\"","export default \"__VITE_ASSET__29227195__$_#shopping-cart-icon__\"","import fetchAPI from './fetchApi.js';\nimport localStorageApi from './localStorageApi.js';\nimport { onBasicLightbox } from './modalClose.js';\nimport closeIcon from '../img/icons.svg#close-icon';\nimport shoppingCartIcon from '../img/icons.svg#shopping-cart-icon';\n\nasync function getProductModal(event, jsClass) {\n  const currentProduct = event.target.closest(jsClass);\n  const id = currentProduct.dataset.productid;\n  const { name, desc, img, category, price, size, popularity } =\n    await fetchAPI.product(id);\n\n  let basketText = 'Add to';\n\n  let cart = localStorageApi.loadCart();\n  if ('products' in cart) {\n    const idx = cart.products.findIndex(product => product.productId === id);\n    if (idx !== -1) {\n      basketText = 'Remove from';\n    }\n  }\n\n  const productModalMarkup = `<div class=\"container\">\n  <div class=\"modal-product\">\n      <button class=\"modal-button js-modal-close\" type=\"button\" >\n        <svg class=\"modal-form-icon\" width=\"28\" height=\"28\">\n              <use href=\"${closeIcon}\"></use>\n            </svg>\n      </button>\n      <div class=\"modal-product-top\">\n        <div class=\"modal-image-wrapper\">\n          <img\n            class=\"modal-product-image\"\n            src=\"${img}\"\n            alt=\"${name}\"\n            width=\"160\"\n            height=\"160\"\n          />\n        </div>\n        <div class=\"modal-dscr-wrapper\">\n          <h3 class=\"modal-product-title\">${name}</h3>\n          <div class=\"modal-product-prop-wrap\">\n            <p class=\"modal-product-prop\">\n              Category:\n              <span class=\"modal-product-prop-span\">${category}</span>\n            </p>\n            <p class=\"modal-product-prop\">\n              Size:\n              <span class=\"modal-product-prop-span\">${size}</span>\n            </p>\n            </div>\n            <p class=\"modal-product-prop\">\n              Popularity: <span class=\"modal-product-prop-span\">${popularity}</span>\n            </p>       \n          <p class=\"modal-product-prop-dscr\">${desc}</p>\n        </div>\n      </div>\n      <div class=\"modal-product-bottom\">\n        <p class=\"modal-product-price\">$${price}</p>\n        <button class=\"modal-product-cart js-modal-product-cart\" type=\"button\">\n          <span class=\"baskettext\">${basketText}</span> <svg class=\"modal-product-icon-basket\" width=\"18\" height=\"18\">\n              <use href=\"${shoppingCartIcon}\"></use>\n            </svg>\n        </button>\n      </div>\n    </div>\n    </div>`;\n\n  onBasicLightbox(productModalMarkup, '.js-modal-close');\n\n  document\n    .querySelector('.js-modal-product-cart')\n    .addEventListener('click', event => {\n      const btn = event.target.closest('.modal-product-cart');\n\n      let cart = localStorageApi.loadCart();\n\n      let notInCart = true;\n      if ('products' in cart) {\n        const resalt = cart.products.findIndex(\n          product => product.productId === id\n        );\n        if (resalt !== -1) {\n          cart.products.splice(resalt, 1);\n          btn.querySelector('.baskettext').innerHTML = 'Add to';\n          notInCart = false;\n        }\n      }\n\n      if (notInCart) {\n        if ('products' in cart) {\n          cart.products.push({\n            productId: id,\n            amount: 1,\n          });\n        } else {\n          cart = {\n            email: '',\n            products: [{ productId: id, amount: 1 }],\n          };\n        }\n        btn.querySelector('.baskettext').innerHTML = 'Remove from';\n      }\n\n      localStorageApi.saveCart(cart);\n    });\n}\n\nexport { getProductModal };\n","export default \"__VITE_ASSET__883ded96__$_#discount-icon__\"","export default \"__VITE_ASSET__9a76fdad__$_#discount-cart__\"","export default \"__VITE_ASSET__bf8d566a__$_#discount-checked__\"","import fetchAPI from './fetchApi.js';\nimport localStorageApi from './localStorageApi.js';\nimport refsAPI from './refs.js';\nimport { getProductModal } from './modalProduct.js';\n\n// icons\nimport discountIcon from '../img/icons.svg#discount-icon';\nimport cartIcon from '../img/icons.svg#discount-cart';\nimport checkedIcon from '../img/icons.svg#discount-checked';\n\n// function to draw discount products section\nasync function drawDiscount() {\n  // number of products to draw\n  const DISCOUNTNUMBER = 2;\n  // get all nodes\n  const frontEnd = new refsAPI();\n  //clear\n  frontEnd.discountList.innerHTML = '';\n  //get list of discount products\n  const discountProducts = await fetchAPI.discount();\n\n  //array of products to draw\n  const productsToDraw = [];\n  let i = 0;\n  //do we have enough products to draw?\n  if (discountProducts.length < DISCOUNTNUMBER) {\n    i = discountProducts.length;\n  } else {\n    i = DISCOUNTNUMBER;\n  }\n  //choose random products and add to array to be drawn\n  for (; i > 0; i--) {\n    let randomNumber = Math.floor(Math.random() * discountProducts.length);\n    productsToDraw.push(discountProducts[randomNumber]);\n    discountProducts.splice(randomNumber, 1); //remove used products\n  }\n\n  //read saved Cart\n  let cart = localStorageApi.loadCart();\n  //get saved products id\n  const productsInCart = [];\n  if ('products' in cart) {\n    cart = cart.products;\n    cart.forEach(product => productsInCart.push(product.productId));\n  }\n  //draw discount products\n  const productsList = [];\n  productsToDraw.forEach(product => {\n    //chose icon\n    let icon = cartIcon;\n    if (productsInCart.includes(product._id)) {\n      icon = checkedIcon;\n    }\n    productsList.push(`\n        <li class=\"discount-list-item discount-show\" data-productId=\"${product._id}\">\n            <svg width=\"60\" height=\"60\" class=\"discount-icon discount-show\"  data-productId=\"${product._id}\">\n              <use href=\"${discountIcon}\" class=\"discount-show\"  data-productId=\"${product._id}\"></use>\n            </svg>\n            <div class=\"discount-image-box discount-show\"  data-productId=\"${product._id}\">\n              <img\n                class=\"discount-image discount-show\"\n                src=\"${product.img}\"\n                width=\"114\"\n                height=\"114\"\n                alt=\"${product.name}\"\n                data-productId=\"${product._id}\"\n              />\n            </div>\n            <div class=\"discount-description discount-show\"  data-productId=\"${product._id}\">\n              <p class=\"discount-title discount-show\"  data-productId=\"${product._id}\">${product.name}</p>\n              <div class=\"discount-description-price discount-show\"  data-productId=\"${product._id}\">\n                <span class=\"discount-price discount-show\"  data-productId=\"${product._id}\">$${product.price}</span>\n                <button type=\"button\" class=\"discount-icon-box discount-buy\" data-productId=\"${product._id}\">\n                  <svg width=\"18\" height=\"18\" class=\"discount-cart discount-buy\" data-productId=\"${product._id}\">\n                    <use href=\"${icon}\" class=\"js-object discount-buy\" data-jsname=\"discountIcon${product._id}\" data-productId=\"${product._id}\"></use>\n                  </svg>\n                </button>\n              </div>\n            </div>\n         </li>\n        `);\n  });\n  frontEnd.discountList.insertAdjacentHTML('beforeend', productsList.join(''));\n}\n\nfunction productInCart(id) {\n  //read saved Cart\n  let cart = localStorageApi.loadCart();\n  //check if product in cart\n  let inCart = false;\n  if ('products' in cart) {\n    cart.products.forEach(product => {\n      if (product.productId === id) {\n        inCart = true;\n        return;\n      }\n    });\n  }\n  return inCart;\n}\n\nfunction buyProduct(id) {\n  let cart = localStorageApi.loadCart();\n  //if not in cart then add\n  if (!productInCart(id)) {\n    if ('products' in cart) {\n      cart.products.push({\n        productId: id,\n        amount: 1,\n      });\n    } else {\n      cart = {\n        email: '',\n        products: [{ productId: id, amount: 1 }],\n      };\n    }\n    //save cart and change icon\n    localStorageApi.saveCart(cart);\n  }\n}\n\n//change icon after adding product to cart\nfunction setCheckedIcon(id, prefix) {\n  const frontEnd = new refsAPI();\n  if (frontEnd[`${prefix}${id}`].href.baseVal === `${cartIcon}`) {\n    frontEnd[`${prefix}${id}`].href.baseVal = `${checkedIcon}`;\n  }\n}\n\n//change icon after deleting product from cart\nfunction setCartIcon(id, prefix) {\n  const frontEnd = new refsAPI();\n  if (frontEnd[`${prefix}${id}`].href.baseVal === `${checkedIcon}`) {\n    frontEnd[`${prefix}${id}`].href.baseVal = `${cartIcon}`;\n  }\n}\n\n//change product icons after change of cart\nfunction refreshIcons(prefix) {\n  const frontEnd = new refsAPI();\n  for (var key in frontEnd) {\n    if (key.indexOf(prefix) === 0) {\n      let id = frontEnd[key].dataset.productid;\n      if (productInCart(id)) {\n        setCheckedIcon(id, prefix);\n      } else {\n        setCartIcon(id, prefix);\n      }\n    }\n  }\n}\n\n//callback for event listener\nfunction discountOnClick(event) {\n  if (event.target.classList.contains('discount-buy')) {\n    buyProduct(event.target.dataset.productid);\n  } else if (event.target.classList.contains('discount-show')) {\n    getProductModal(event, '.discount-show');\n  }\n}\n\n//draw number of categories in cart\n\nfunction drawHeaderCartNumber() {\n  const frontEnd = new refsAPI();\n  let cartNumber = 0;\n  let cart = localStorageApi.loadCart();\n  //check if cart empty\n  if ('products' in cart) {\n    cartNumber = cart.products.length;\n  }\n  frontEnd.headerCartNumber.textContent = cartNumber;\n}\n\nexport {\n  drawDiscount,\n  discountOnClick,\n  buyProduct,\n  setCheckedIcon,\n  setCartIcon,\n  refreshIcons,\n  drawHeaderCartNumber,\n};\n","/*\n Simple localStorageApi to save/loade Filter and Cart\n\n\nusing example:\n\nimport localStorageApi from './js/localStorageApi.js';\n\nlocalStorageApi.saveFilter({ keyA: 'A', KeyB: 'B' });\nconst test = localStorageApi.loadFilter();\nconsole.log('test: ', test);\n\nmethods:\n\nlocalStorageApi.saveFilter(filter) - saves filter\n    all properties of filter are optional:\n    filter {\n        keyword : \"string\",\n        category : \"string\",\n        byABC : \"boolean\",\n        page : \"number\",\n        limit : \"number\",}\n\nlocalStorageApi.loadFilter() - returns filter\n\nlocalStorageApi.deleteFilter() - removes filter from storage\n\nlocalStorageApi.saveCart(cart) - saves cart\n  cart {\n    \"email\": \"test@gmail.com\",\n    \"products\": [{\"productId\": \"640c2dd963a319ea671e383b\",\n    \"amount\": 2},...]}\n\nlocalStorageApi.loadCart() - returns cart\n\nlocalStorageApi.deleteCart() - removes cart from storage\n\n\n\n\n*/\n\nimport { refreshIcons, drawHeaderCartNumber } from './discount';\n\nexport default {\n  _filterID: 'filter-project-Bpfbt9js',\n  _cartID: 'cart-project-Bpfbt9js',\n  _save: function _save(key, data) {\n    try {\n      const jsonData = JSON.stringify(data);\n      localStorage.setItem(key, jsonData);\n    } catch (error) {\n      throw error;\n    }\n  },\n  _load: function _load(key) {\n    try {\n      const jsonData = localStorage.getItem(key);\n      if (jsonData === null) {\n        return {};\n      } else {\n        const data = JSON.parse(jsonData);\n        return data;\n      }\n    } catch (error) {\n      throw error;\n    }\n  },\n  _delete: function _delete(key) {\n    try {\n      localStorage.removeItem(key);\n    } catch (error) {\n      throw error;\n    }\n  },\n  saveFilter: function saveFilter(filter) {\n    this._save(this._filterID, filter);\n  },\n  loadFilter: function loadFilter() {\n    let filter = this._load(this._filterID);\n    return filter;\n  },\n  deleteFilter: function deleteFilter() {\n    this._delete(this._filterID);\n  },\n  saveCart: function saveCart(cart) {\n    this._save(this._cartID, cart);\n    refreshIcons('discountIcon');\n    drawHeaderCartNumber();\n  },\n  loadCart: function loadCart() {\n    let cart = this._load(this._cartID);\n    return cart;\n  },\n  deleteCart: function deleteCart() {\n    this._delete(this._cartID);\n  },\n};\n","// ---------------------Функція відкриття та закриття модального вікна--------------------------\n\nexport default {\n  _closeModalBtn: document.querySelector('.js-close-modal'),\n  _backdrop: document.querySelector('.js-backdrop'),\n  _modalImg: document.querySelector('.modal__food-basket'),\n  _modal: document.querySelector('.modal-inner'),\n  ESC_KEY_CODE: 'Escape',\n  open: function open() {\n    window.addEventListener('keydown', this.esc.bind(this));\n    this._closeModalBtn.addEventListener('click', this.close.bind(this));\n    this._backdrop.addEventListener('click', this.backdrop.bind(this));\n    document.body.classList.add('show-modal');\n  },\n  close: function close() {\n    window.removeEventListener('keydown', this.esc.bind(this));\n    this._closeModalBtn.removeEventListener('click', this.close.bind(this));\n    this._backdrop.removeEventListener('click', this.backdrop.bind(this));\n    document.body.classList.remove('show-modal');\n  },\n  backdrop: function backdrop(event) {\n    if (event.currentTarget === event.target) {\n      this.close();\n    }\n  },\n  esc: function esc(event) {\n    if (event.code === this.ESC_KEY_CODE) {\n      this.close();\n    }\n  },\n};\n","import fetchApi from './fetchApi'; //Підключив функцію запитів на сервер\n\nimport ModalFilter from './modal/ModalFilter';\n\n// *****Змінні на модалці*****\n// const refs = {\n//   closeModalBtn: document.querySelector('[data-action=\"close-modal\"]'),\n//   backdrop: document.querySelector('.js-backdrop'),\n//   modalImg: document.querySelector('.modal__food-basket'),\n//   modal: document.querySelector('.modal'),\n// };\n\nexport const form = document.querySelector('.footer-form'); //Експортую змінну для підключення у \"maim.js\"\n\n// const ESC_KEY_CODE = 'Escape';\n\n// // ---------------Функції відкриття та закриття модалки------------------\n\n// function onOpenModal() {\n//   window.addEventListener('keydown', onEscKeyPress);\n//   refs.closeModalBtn.addEventListener('click', onCloseModal);\n\n//   refs.backdrop.addEventListener('click', onBackdropClick);\n//   document.body.classList.add('show-modal');\n// }\n\n// function onCloseModal() {\n//   window.removeEventListener('keydown', onEscKeyPress);\n//   refs.closeModalBtn.removeEventListener('click', onCloseModal);\n\n//   refs.backdrop.removeEventListener('click', onBackdropClick);\n//   document.body.classList.remove('show-modal');\n// }\n\n// function onBackdropClick(event) {\n//   if (event.currentTarget === event.target) {\n//     onCloseModal();\n//   }\n// }\n\n// function onEscKeyPress(event) {\n//   const isEscCode = event.code === ESC_KEY_CODE;\n//   if (isEscCode) {\n//     onCloseModal();\n//   }\n// }\n\n// ------------Перевірка наявності імейлу на сервері та відмальовування вмісту модалки--------------\n\nexport async function postEmail(params) {\n  params.preventDefault();\n\n  const email = params.target.elements.email.value;\n\n  await fetchApi\n    .subscribe(email)\n    .then(responce => {\n      ModalFilter._modalImg.style.display = 'block';\n      ModalFilter._modal.innerHTML = `\n        \n          <div class=\"modal__title--wrap\">\n          <p class=\"modal__title\">\n            Thanks for subscribing for\n            <span class=\"modal__accent-text\">new</span>\n            products\n          </p>\n        </div>\n        <div class=\"modal__description--wrap\">\n          <p class=\"modal__description\">\n            We promise you organic and high-quality products that will meet your\n            expectations. Please stay with us and we promise you many pleasant\n            surprises.\n          </p>\n        </div>\n        \n            `;\n      ModalFilter.open();\n      form.reset();\n    })\n\n    .catch(error => {\n      ModalFilter._modalImg.style.display = 'none';\n      ModalFilter._modal.innerHTML = `\n      \n      <div class=\"modal__title--wrap\">\n        <p class=\"modal__title\">\n          This\n          <span class=\"modal__accent-text\">email address </span>\n          has already been entered\n        </p>\n      </div>\n      <div class=\"modal__description--wrap\">\n        <p class=\"modal__description\">\n          You have already subscribed to our new products. Watch for offers at\n          the mailing address.\n        </p>\n      </div>`;\n      ModalFilter.open();\n    });\n}\n"],"names":["fetchAPI","axios","error","id","filter","params","email","cart","refsAPI","nodes","i","key","onBasicLightbox","markup","querySelector","instance","basicLightbox.create","onModal","evt","closeIcon","shoppingCartIcon","getProductModal","event","jsClass","name","desc","img","category","price","size","popularity","basketText","localStorageApi","product","productModalMarkup","btn","notInCart","resalt","discountIcon","cartIcon","checkedIcon","drawDiscount","frontEnd","discountProducts","productsToDraw","randomNumber","productsInCart","productsList","icon","productInCart","inCart","buyProduct","setCheckedIcon","prefix","setCartIcon","refreshIcons","discountOnClick","drawHeaderCartNumber","cartNumber","data","jsonData","ModalFilter","form","postEmail","fetchApi","responce"],"mappings":"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"}